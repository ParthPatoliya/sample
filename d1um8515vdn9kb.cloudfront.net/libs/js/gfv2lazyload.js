(()=>{"use strict";function v(e){return!!e&&(-1!=e.indexOf("ucarecdn.com/")||-1!=e.indexOf("cdn.gempages.net/"))}const f=function(e){var t=new RegExp(/[`"'()#]/g);return e.replace(t,"_")};var g=function(e){var t=!1;return t=/\.(gif|jpe?g|tiff|png|webp|bmp)$/i.test(e)?!0:t},h=function(e){for(var t=[],i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t};function z(e,t,i){if(e&&null!=t){var a=t;if(!!(n=e)&&(-1!=n.indexOf("cdn.shopify.com/s/files/")||-1!=n.indexOf("apps.shopifycdn.com/"))){var n="",o=e.split("?"),o=(o&&o.length&&2<=o.length&&(n=o[1]),o[0].split("/").pop()),o=null==o?void 0:o.split("."),r=null==o?void 0:o.pop();if(r&&-1!==["jfif"].indexOf(r))return e;for(var l,o=null==o?void 0:o.join("."),s=null==o?void 0:o.split("_"),d=(s&&2<=s.length&&(s=s.pop(),l=new RegExp(/(\d+)x(\d+)|(\d+)x|x(\d+)/,"gm"),s)&&l.test(s)&&""==s.replace(l,"")&&(null!=(s=null==o?void 0:o.split("_"))&&s.pop(),o=null==s?void 0:s.join("_")),e.split("?")[0].split("/")),u="",c=0;c<d.length-1;c++)u+=d[c]+"/";e=t?u+o+"_"+t+"."+r:u+o+"."+r,n&&(e=e+"?"+n)}v(e)&&(e=function(e,t){var i,a=h(new URL(e).pathname.split("/")),n=a[0],n=(g(e)&&(i=a.pop()),a=new URL(e).pathname.includes("//")?new URL(e).origin+"//".concat(n):new URL(e).origin+"/".concat(n),new URL(e).pathname.split("/-"));if(n&&n.length){var o=n.length,r=n.slice(1,o);r&&r.length&&(n=r[r.length-1],i&&n.includes(i)&&(n=n.replace(i,"")),r[r.length-1]=n),i=i&&f(i),r.find(function(e){return e.includes("preview")})||r.unshift("/preview");for(var l=0;l<r.length;l++){var s,d=r[l];"/"==r[l][0]&&(d=r[l].slice(1,d.length)),(d="/"==r[l][d.length-1]?r[l].slice(0,d.length-1):d).includes("preview")&&(d=r[l],t.includes("x")?(s=t.split("x"))&&s.length&&1==(s=s.filter(function(e){return e.trim().length})).length&&(t=s[0]+"x"+s[0]):isNaN(parseInt(t))||(t=t+"x"+t),d="/preview/".concat(t),r&&1==r.length&&"/preview"==r[0]&&(d+="/"),r[l]=d)}e=a+"/-"+r.join("/-"),i&&!g(e)&&(o=!1,e=(o="/"==(n=r.join("/-")).charAt(n.length-1)?!0:o)?a+"/-"+n+"".concat(i):a+"/-"+r.join("/-")+"/".concat(i))}return e}(e,a))}return e}var x,i,e=window.GemQuery||jQuery;function t(e,t){Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{enable:!0,delay:250,scale:1.25,scaleMobile:1.75,mobileMaxWidth:768,arraySize:[120,240,480,600,750,1024,1500,2048,2560,3200,4e3,5e3],maxSize:5e3,defaultSize:90,preLoadScroll:30}}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"timeoutResize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"timeoutLoadParallax",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"windowWidth",{enumerable:!0,configurable:!0,writable:!0,value:320}),this.settings=x.extend({},this.defaults,t),this.settings.enable&&this.start()}x=e,Object.defineProperty(t.prototype,"start",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.attach(),x(window).resize(function(){x(window).width()!=e.windowWidth&&(e.timeoutResize&&(clearTimeout(e.timeoutResize),e.timeoutResize=0),e.timeoutResize=window.setTimeout(function(){e.attach(),e.timeoutResize=0},16))}),x("div[data-accordion] > div[data-control], li.gf_tab > .item-content").on("click.lazyload touchstart.lazyload",function(){window.scrollBy(0,1),window.scrollBy(0,-1)})}}),Object.defineProperty(t.prototype,"update",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.timeout||(this.timeout=window.setTimeout(function(){e.updateLazyload(),e.timeout=0},this.settings.delay))}}),Object.defineProperty(t.prototype,"updateLazyload",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e,t=this,i=x("body").find(".gf_lazyload:not(.gf_lazyload_done)"),a=i.length,n="",o={t:0,b:window.innerHeight||document.documentElement.clientHeight},r=0;r<a;r++)if(e=i.eq(r),this.inView(e,o)){var l=e.outerWidth()||this.settings.defaultSize,s=e.outerHeight()||this.settings.defaultSize,d=this.settings.scale,u=(l*=d=this.windowWidth<=this.settings.mobileMaxWidth?this.settings.scaleMobile:d,s*=d,e.attr("data-width")||""),c=e.attr("data-height")||"";if("auto"==u&&"auto"==c){c=e.parent();if(c.length){var f=c.width()||this.settings.defaultSize,c=c.height()||this.settings.defaultSize,g=parseInt(e.attr("natural-width")||this.settings.defaultSize.toString()),h=parseInt(e.attr("natural-height")||this.settings.defaultSize.toString()),f=Math.min(f,g),g=Math.min(c,h),p=(e.attr("style")||"").split(";"),b=[];if("auto"==u){for(var m=0;m<p.length;m++)p[m]&&-1!=p[m].indexOf("width")&&delete p[m];p.push("width:"+f+"px !important");for(var w=0;w<p.length;w++)p[w]&&b.push(p[w]);e.attr("style",b.join(";"))}l<f&&(l=f*d),s<g&&(s=g*d)}}c=Math.max(l,s),h=this.getImageSize(c),u=!1;if("Hero Banner"==e.attr("data-label")||e.hasClass("gf_hero-fixed"))u=!0;else if(this.isSizeLoaded(e,h)){this.setLoaded(e);continue}var y,f="";try{u?(y=e.attr("style"),e.attr("style",""),f="none"!=e.css("background-image")?e.css("background-image").split("(")[1].split(")")[0]:"",e.attr("style",y||"")):f="none"!=e.css("background-image")?e.css("background-image").split("(")[1].split(")")[0]:""}catch(e){f=""}g=e[0];if(n="IMG"==g.tagName?x(e).attr("src"):f,e.hasClass("gf_parallax-bg")){if(!n){this.timeoutLoadParallax&&(clearTimeout(this.timeoutLoadParallax),this.timeoutLoadParallax=0),this.timeoutLoadParallax=window.setTimeout(function(){window.scrollBy(0,1),window.scrollBy(0,-1),t.timeoutLoadParallax=0},100);continue}}else if(g.classList.contains("img-wrapper-link-overlay")){d=x(g).attr("data-ori-bg");null!=d&&""!=d&&this.replaceImageSource(g,d);continue}!n||('"'!=n[0]&&"'"!=n[0]||(n=n.slice(1,-1)),3e3<h&&v(n)&&this.isSizeLoaded(e,h=3e3))?this.setLoaded(e):(l=h+"x"+h,(n=z(n,l))&&this.replaceImageSource(g,n),this.setSizeLoaded(e,h))}a||this.detach()}}),Object.defineProperty(t.prototype,"setLoaded",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.addClass("gf_lazyloaded"),e.addClass("gf_lazyload_done")}}),Object.defineProperty(t.prototype,"setSizeLoaded",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.attr("data-lazy-loaded",t)}}),Object.defineProperty(t.prototype,"isSizeLoaded",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return t<=(e.attr("data-lazy-loaded")||this.settings.defaultSize)}}),Object.defineProperty(t.prototype,"getImageSize",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=0;t<this.settings.arraySize.length;t++)if(this.settings.arraySize[t]>=e)return this.settings.arraySize[t];return this.settings.maxSize}}),Object.defineProperty(t.prototype,"inView",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i;return 0!=e.length&&!this.isHidden(e[0])&&(e=e[0].getBoundingClientRect(),i=this.settings.preLoadScroll,e.bottom+i>=t.t)&&e.top-i<=t.b}}),Object.defineProperty(t.prototype,"isHidden",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return x(e).hasClass("gf_parallax-bg")?!x(e).is(":visible")||x(e).is(":hidden"):null===e.offsetParent}}),Object.defineProperty(t.prototype,"replaceImageSource",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i,a,n,o=this;"IMG"==e.tagName.toUpperCase()?(a=new Image,i=e,a.onload=function(){x(i).attr("src",t),o.setLoaded(x(i))},a.onerror=function(){o.setLoaded(x(i))},a.src="",a.src=t):(a=new Image,x(n=e).attr("data-new-src",t),a.onload=function(){var e,t=x(n).attr("data-new-src")||"";t&&(t="background-image: url('"+t+"') !important;",(e=x(n).attr("style"))?-1==e.indexOf("background-image")?e+=";"+t:e=e.replace(/background-image\s*:[^;]*;/gim,t):e=t,x(n).attr("style",e)),x(n).removeAttr("data-new-src"),o.setLoaded(x(n))},a.onerror=function(){o.setLoaded(x(n)),x(n).removeAttr("data-new-src")},a.src="",a.src=t)}}),Object.defineProperty(t.prototype,"attach",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.windowWidth=x(window).width()||320,x(window).add("body").find(".gf_lazyload.gf_lazyload_done").removeClass("gf_lazyload_done"),x(window).add("body").find(".gf_lazyload.gf_hero-fixed").removeClass("gf_lazyloaded"),this.update(),x(window).add("body").off("scroll.gflazyload").on("scroll.gflazyload",function(){e.update()})}}),Object.defineProperty(t.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){x(window).add("body").off("scroll.gflazyload"),clearTimeout(this.timeout)}}),i=t,x.fn.gfV2Lazyload=function(t){return this.each(function(){var e;null==x(this).data("gfv2lazyload")&&(e=new i(this,t),x(this).data("gfv2lazyload",e))})}})();